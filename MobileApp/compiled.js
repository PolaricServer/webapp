function setStatus(a){geopos.innerHTML=a}
function myOnLoad_droid(){function a(a){menuMouseSelect();a.cancelBubble=!0}isMobile=isMobileApp=!0;document.addEventListener("deviceready",function(){document.addEventListener("menubutton",function(a){return popupActive()?menuMouseSelect():mainMenu(document.getElementById("toolbar"),a)},!1);startUp();var a=document.getElementById("refToggler");toggleReference(a);setStatus("&nbsp; PolaricDroid app ready")},!1);onPopup(function(){document.addEventListener("backbutton",a,!1)},function(){document.removeEventListener("backbutton",
a,!1)})};function GpsTracker(){this.watchID=this.my_point=null;this.watchID=navigator.geolocation.watchPosition(function(a){if(a.coords.accuracy>60){if(this.my_point!=null)this.my_point.removeFromMap(),this.my_point=null;setStatus("&nbsp; GPS upresis posisjon ("+a.coords.accuracy+" m)")}else{var c=(new LatLng(a.coords.latitude,a.coords.longitude)).toUTMRef(),b=c.toLatLng().toUTMRef(utmnzone,utmzone);myZoomToGeo(b.easting,b.northing,0.2);var e=setStatus,c="&nbsp; GPS posisjon ok <br>"+c+"&nbsp;/&nbsp;",a=a.coords,
d="",d=a.heading<22||a.heading>337?"N":a.heading<67?"NE":a.heading<112?"E":a.heading<157?"SE":a.heading<202?"S":a.heading<247?"SW":a.heading<292?"W":"NW",a=Math.round(a.speed*3.6)+" km/h "+d;e(c+a);this.my_point==null?(this.my_point=myOverlay.addNewPoint("my_gps_position",b.easting,b.northing),b=new kaXmlIcon,b.setImage(this.my_point,"images/position.png",54,54),this.my_point.addGraphic(b),this.my_point.div.appendChild(b.ldiv)):this.my_point.setPosition(b.easting,b.northing);myKaMap.updateObjects()}},
function(a){setStatus("&nbsp; GPS feil<br>"+a.message);navigator.notification.alert("ERROR:"+a.message,null,"PolaricDroid")},{timeout:24E4,enableHighAccuracy:!0,maximumAge:1E4});setStatus("&nbsp; GPS <u>p\u00e5</u>sl\u00e5tt")}GpsTracker.prototype.deactivate=function(){myOverlay.removePoint("my_gps_position");this.my_point=null;navigator.geolocation.clearWatch(this.watchID);setStatus("&nbsp; GPS <u>av</u>sl\u00e5tt")};
